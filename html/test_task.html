<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Тест для школьников с РАС</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f4f8;
    margin: 0; padding: 20px;
    color: #333;
  }
  /* Контейнер теста */
.container {
    max-width: 800px;
    margin: 40px auto;
    background: #f8f9fa;
    padding: 30px 40px;
    border: 2px solid #000000;
    border-radius: 6px;
    font-weight: bold;
    color: #000000;
}

/* Заголовок */
.container h1 {
    text-align: center;
    font-size: 48px;
    margin-bottom: 40px;
}

/* Вопрос */
.question {
    margin-bottom: 30px;
    font-weight: bold;
}

.question h3 {
    font-size: 24px;
    margin-bottom: 20px;
}

/* Варианты ответов */
label {
    display: block;
    margin-bottom: 18px;
    cursor: pointer;
    font-size: 20px;
    position: relative;
    padding-left: 30px;
    color: #000000;
}

/* Радиокнопки */
input[type="radio"] {
    position: absolute;
    left: 0;
    top: 3px;
    width: 20px;
    height: 20px;
    cursor: pointer;
}

/* Кнопки навигации */
.buttons {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 30px;
}

button {
    padding: 15px 40px;
    font-size: 20px;
    font-weight: bold;
    border: 3px solid #000000;
    background: #ffffff;
    color: #000000;
    cursor: pointer;
    border-radius: 6px;
    min-width: 140px;
    transition: background-color 0.3s, color 0.3s;
}

button:hover:not(:disabled) {
    background: #000000;
    color: #ffffff;
}

button:disabled {
    background-color: #a0a0a0;
    border-color: #a0a0a0;
    color: #666666;
    cursor: not-allowed;
}

/* Результат теста */
.result {
    margin-top: 40px;
    font-size: 28px;
    font-weight: bold;
    text-align: center;
    color: #000000;
}

/* Кнопка перехода на главную */
#toIndexBtn {
    display: block;
    margin: 30px auto 0;
    padding: 15px 50px;
    font-size: 22px;
    font-weight: bold;
    border: 3px solid #000000;
    background: #ffffff;
    color: #000000;
    cursor: pointer;
    border-radius: 6px;
    text-align: center;
    text-decoration: none;
    width: max-content;
    transition: background-color 0.3s, color 0.3s;
}

#toIndexBtn:hover {
    background: #000000;
    color: #ffffff;
}
</style>
</head>
<body>

<div class="container">
  <h1>Тест для школьников с РАС</h1>

  <div id="quiz">
    <!-- Вопросы будут динамически вставляться сюда -->
  </div>

  <div class="buttons" id="navButtons">
    <button id="prevBtn" disabled>Назад</button>
    <button id="nextBtn" disabled>Вперед</button>
  </div>
  <div class="buttons" id="exitButtonContainer">
        <button id="exitBtn">Выход из теста</button>
  </div>

  <div class="result" id="result"></div>
</div>

<script>
  const questions = [
    {
      text: "1. Какой из этих предметов — фрукт?",
      options: [
        { text: "Карандаш", correct: false },
        { text: "Яблоко", correct: true },
        { text: "Ручка", correct: false }
      ]
    },
    {
      text: "2. Что делает человек, когда улыбается?",
      options: [
        { text: "Он счастлив", correct: true },
        { text: "Он злится", correct: false },
        { text: "Он спит", correct: false }
      ]
    },
    {
      text: "3. Какое животное умеет летать?",
      options: [
        { text: "Кошка", correct: false },
        { text: "Птица", correct: true },
        { text: "Собака", correct: false }
      ]
    },
    {
      text: "4. Что нужно делать, если хочешь перейти дорогу?",
      options: [
        { text: "Бежать быстро", correct: false },
        { text: "Посмотреть по сторонам", correct: true },
        { text: "Закрыть глаза", correct: false }
      ]
    },
    {
      text: "5. Какой цвет получается при смешивании красного и синего?",
      options: [
        { text: "Фиолетовый", correct: true },
        { text: "Зеленый", correct: false },
        { text: "Оранжевый", correct: false }
      ]
    },
    {
      text: "6. Что делают растения, чтобы расти?",
      options: [
        { text: "Спят", correct: false },
        { text: "Получают свет и воду", correct: true },
        { text: "Бегают", correct: false }
      ]
    },
    {
      text: "7. Какой из этих предметов используется для письма?",
      options: [
        { text: "Ручка", correct: true },
        { text: "Ложка", correct: false },
        { text: "Мяч", correct: false }
      ]
    },
    {
      text: "8. Что нужно делать, если кто-то обиделся?",
      options: [
        { text: "Извиниться и поговорить", correct: true },
        { text: "Игнорировать", correct: false },
        { text: "Кричать", correct: false }
      ]
    },
    {
      text: "9. Какое время суток наступает после утра?",
      options: [
        { text: "День", correct: true },
        { text: "Ночь", correct: false },
        { text: "Вечер", correct: false }
      ]
    },
    {
      text: "10. Что помогает нам видеть в темноте?",
      options: [
        { text: "Уши", correct: false },
        { text: "Глаза", correct: true },
        { text: "Руки", correct: false }
      ]
    }
  ];

  const quizDiv = document.getElementById('quiz');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const exitBtn = document.getElementById('exitBtn');
  const resultDiv = document.getElementById('result');
  const navButtons = document.getElementById('navButtons');
  const exitButtonContainer = document.getElementById('exitButtonContainer');

  let currentQuestionIndex = 0;
  const answers = new Array(questions.length).fill(null);

  function renderQuestion(index) {
    resultDiv.textContent = '';
    const q = questions[index];

    const optionsHtml = q.options.map((opt, i) => {
      const checked = answers[index] === i ? 'checked' : '';
      return `
        <label>
          <input type="radio" name="answer" value="${i}" ${checked} />
          ${opt.text}
        </label>`;
    }).join('');

    quizDiv.innerHTML = `
      <div class="question">
        <h3>${q.text}</h3>
        ${optionsHtml}
      </div>
    `;

    const inputs = quizDiv.querySelectorAll('input[name="answer"]');
    inputs.forEach(input => {
      input.addEventListener('change', () => {
        answers[currentQuestionIndex] = parseInt(input.value);
        nextBtn.disabled = false;
      });
    });

    prevBtn.disabled = index === 0;
    nextBtn.disabled = answers[index] === null;

    if (index === questions.length - 1) {
      nextBtn.textContent = 'Завершить тест';
    } else {
      nextBtn.textContent = 'Вперед';
    }
  }

  prevBtn.addEventListener('click', () => {
    if (currentQuestionIndex > 0) {
      currentQuestionIndex--;
      renderQuestion(currentQuestionIndex);
    }
  });

  nextBtn.addEventListener('click', () => {
    if (answers[currentQuestionIndex] === null) return;

    if (currentQuestionIndex < questions.length - 1) {
      currentQuestionIndex++;
      renderQuestion(currentQuestionIndex);
    } else {
      let score = 0;
      answers.forEach((ans, i) => {
        if (ans !== null && questions[i].options[ans].correct) {
          score++;
        }
      });
      quizDiv.innerHTML = '';
      navButtons.style.display = 'none';
      exitButtonContainer.style.display = 'none';
      resultDiv.textContent = `Вы ответили правильно на ${score} из ${questions.length} вопросов.`;

      // Создаём кнопку для перехода на index.html
      const toIndexBtn = document.createElement('a');
      toIndexBtn.id = 'toIndexBtn';
      toIndexBtn.href = 'index.html';
      toIndexBtn.textContent = 'Вернуться на главную';
      toIndexBtn.setAttribute('role', 'button');
      toIndexBtn.style.display = 'inline-block';
      toIndexBtn.style.marginTop = '30px';
      toIndexBtn.style.textDecoration = 'none';
      resultDiv.appendChild(toIndexBtn);
    }
  });

  exitBtn.addEventListener('click', () => {
    // Переход на главную страницу при выходе из теста
    window.location.href = 'index.html';
  });

  renderQuestion(currentQuestionIndex);
</script>

</body>
</html>
